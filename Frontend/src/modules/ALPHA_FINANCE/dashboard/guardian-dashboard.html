<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è QAntum Empire - Guardian Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .header {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .header h1 {
            font-size: 28px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header .status {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 30px;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-dot.green { background: #00ff88; box-shadow: 0 0 10px #00ff88; }
        .status-dot.yellow { background: #ffcc00; box-shadow: 0 0 10px #ffcc00; }
        .status-dot.red { background: #ff4444; box-shadow: 0 0 10px #ff4444; }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        .container {
            display: grid;
            grid-template-columns: 300px 1fr 350px;
            gap: 20px;
            padding: 20px;
            height: calc(100vh - 80px);
        }

        .panel {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            overflow-y: auto;
        }

        .panel h2 {
            font-size: 16px;
            color: #667eea;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Module Classes */
        .class-group {
            margin-bottom: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .class-header {
            padding: 12px 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
        }

        .class-header:hover {
            background: rgba(255,255,255,0.05);
        }

        .class-header .name {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .class-header .count {
            background: rgba(102, 126, 234, 0.3);
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
        }

        .class-modules {
            padding: 0 15px 15px;
            display: none;
        }

        .class-modules.open {
            display: block;
        }

        .module-item {
            padding: 8px 12px;
            margin: 5px 0;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .module-item:hover {
            background: rgba(255,255,255,0.08);
            transform: translateX(5px);
        }

        .module-item.healthy { border-left-color: #00ff88; }
        .module-item.warning { border-left-color: #ffcc00; }
        .module-item.error { border-left-color: #ff4444; }
        .module-item.selected { background: rgba(102, 126, 234, 0.2); }

        .module-status {
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 10px;
        }

        .module-status.ok { background: rgba(0, 255, 136, 0.2); color: #00ff88; }
        .module-status.warn { background: rgba(255, 204, 0, 0.2); color: #ffcc00; }
        .module-status.err { background: rgba(255, 68, 68, 0.2); color: #ff4444; }

        /* Center Panel - Architecture View */
        .architecture-view {
            position: relative;
            height: 100%;
        }

        .arch-layer {
            position: absolute;
            border: 2px solid rgba(102, 126, 234, 0.5);
            border-radius: 15px;
            padding: 10px;
            background: rgba(102, 126, 234, 0.1);
        }

        .arch-layer .layer-title {
            position: absolute;
            top: -12px;
            left: 15px;
            background: #1a1a2e;
            padding: 2px 10px;
            font-size: 12px;
            color: #667eea;
        }

        .arch-node {
            position: absolute;
            padding: 10px 15px;
            background: linear-gradient(135deg, #1e1e30 0%, #2d2d44 100%);
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.1);
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10;
        }

        .arch-node:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }

        .arch-node.active {
            border-color: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.5);
        }

        /* Connection Lines SVG */
        .connections-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .connection-line {
            stroke: rgba(102, 126, 234, 0.4);
            stroke-width: 2;
            fill: none;
        }

        .connection-line.active {
            stroke: #00ff88;
            stroke-width: 3;
            filter: drop-shadow(0 0 5px #00ff88);
        }

        /* Right Panel - Details */
        .detail-section {
            margin-bottom: 20px;
        }

        .detail-section h3 {
            font-size: 13px;
            color: #888;
            margin-bottom: 10px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .detail-item .label { color: #888; }
        .detail-item .value { color: #fff; font-weight: 500; }

        .connection-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .connection-item {
            padding: 8px 12px;
            margin: 5px 0;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .connection-item .arrow {
            color: #667eea;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .stat-card .value {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }

        .stat-card .label {
            font-size: 11px;
            color: #888;
            margin-top: 5px;
        }

        /* Health Bar */
        .health-bar {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .health-bar .fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #667eea);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        /* Log Panel */
        .log-panel {
            background: #0a0a0a;
            border-radius: 10px;
            padding: 15px;
            font-family: 'Consolas', monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }

        .log-entry {
            padding: 3px 0;
            display: flex;
            gap: 10px;
        }

        .log-entry .time { color: #666; }
        .log-entry .msg { color: #888; }
        .log-entry.success .msg { color: #00ff88; }
        .log-entry.warning .msg { color: #ffcc00; }
        .log-entry.error .msg { color: #ff4444; }

        /* Actions */
        .actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.15);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>
            üõ°Ô∏è QAntum Empire
            <span style="font-size: 14px; opacity: 0.7;">Guardian Dashboard</span>
        </h1>
        <div class="status">
            <span class="status-dot green" id="statusDot"></span>
            <span id="statusText">System Healthy</span>
        </div>
    </header>

    <div class="container">
        <!-- Left Panel - Module Classes -->
        <div class="panel">
            <h2>üì¶ Module Classes</h2>
            <div id="classContainer"></div>
        </div>

        <!-- Center Panel - Architecture View -->
        <div class="panel architecture-view" id="archView">
            <h2>üîó Architecture Map</h2>
            <svg class="connections-svg" id="connectionsSvg"></svg>
            <div id="archNodes"></div>
        </div>

        <!-- Right Panel - Details -->
        <div class="panel">
            <h2>üìä System Overview</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="value" id="totalModules">0</div>
                    <div class="label">Modules</div>
                </div>
                <div class="stat-card">
                    <div class="value" id="totalLines">0</div>
                    <div class="label">Lines</div>
                </div>
                <div class="stat-card">
                    <div class="value" id="healthScore">0</div>
                    <div class="label">Health</div>
                </div>
                <div class="stat-card">
                    <div class="value" id="connections">0</div>
                    <div class="label">Connections</div>
                </div>
            </div>

            <div class="health-bar">
                <div class="fill" id="healthFill" style="width: 99%"></div>
            </div>

            <div class="detail-section" id="selectedModule" style="display: none;">
                <h3>üìå Selected Module</h3>
                <div id="moduleDetails"></div>
            </div>

            <div class="detail-section">
                <h3>üîó Active Connections</h3>
                <div class="connection-list" id="connectionList"></div>
            </div>

            <div class="detail-section">
                <h3>üìù Activity Log</h3>
                <div class="log-panel" id="logPanel"></div>
            </div>

            <div class="actions">
                <button class="btn btn-primary" onclick="runScan()">üî¨ Full Scan</button>
                <button class="btn btn-secondary" onclick="toggleWatch()">üëÅÔ∏è Watch</button>
            </div>
        </div>
    </div>

    <script>
        // Module Class Architecture
        const MODULE_CLASSES = {
            'INTELLIGENCE': {
                emoji: 'üß†',
                color: '#667eea',
                description: 'Intelligence & Analysis Layer',
                modules: [
                    { name: 'EcosystemSyncValidator', status: 'healthy', lines: 25300, exports: 12 },
                    { name: 'EcosystemHarmonizer', status: 'healthy', lines: 20300, exports: 20 },
                    { name: 'CrossProjectSynergy', status: 'healthy', lines: 14400, exports: 7 },
                    { name: 'SovereignAudit', status: 'healthy', lines: 28000, exports: 4 },
                    { name: 'HealthMonitor', status: 'healthy', lines: 19100, exports: 2 },
                    { name: 'VectorSync', status: 'healthy', lines: 24900, exports: 6 }
                ]
            },
            'OMEGA': {
                emoji: '‚ö°',
                color: '#764ba2',
                description: 'Command & Control Center',
                modules: [
                    { name: 'SovereignMagnet', status: 'healthy', lines: 26100, exports: 2 },
                    { name: 'SovereignNucleus', status: 'healthy', lines: 18500, exports: 5 },
                    { name: 'OmegaServer', status: 'healthy', lines: 15200, exports: 3 }
                ]
            },
            'PHYSICS': {
                emoji: 'üî¨',
                color: '#00ff88',
                description: 'Mathematical & Computational Core',
                modules: [
                    { name: 'NeuralInference', status: 'healthy', lines: 12400, exports: 8 },
                    { name: 'VectorEngine', status: 'healthy', lines: 8900, exports: 4 },
                    { name: 'MatrixOps', status: 'healthy', lines: 6200, exports: 12 }
                ]
            },
            'FORTRESS': {
                emoji: 'üè∞',
                color: '#ff6b6b',
                description: 'Security & Authentication',
                modules: [
                    { name: 'VaultGuard', status: 'healthy', lines: 15600, exports: 6 },
                    { name: 'TokenManager', status: 'healthy', lines: 9800, exports: 4 },
                    { name: 'CryptoEngine', status: 'healthy', lines: 11200, exports: 8 }
                ]
            },
            'BIOLOGY': {
                emoji: 'üß¨',
                color: '#ffd93d',
                description: 'Evolution & Learning Systems',
                modules: [
                    { name: 'EvolutionEngine', status: 'healthy', lines: 18900, exports: 5 },
                    { name: 'LearningCore', status: 'healthy', lines: 14200, exports: 7 },
                    { name: 'AdaptiveSystem', status: 'healthy', lines: 12100, exports: 4 }
                ]
            },
            'GUARDIANS': {
                emoji: 'üõ°Ô∏è',
                color: '#4ecdc4',
                description: 'Monitoring & Self-Healing',
                modules: [
                    { name: 'UnifiedGuardian', status: 'healthy', lines: 30700, exports: 1 },
                    { name: 'EternalGuardian', status: 'healthy', lines: 30700, exports: 0 },
                    { name: 'NucleusMapper', status: 'warning', lines: 15400, exports: 0 }
                ]
            }
        };

        // Connections between classes
        const CLASS_CONNECTIONS = [
            { from: 'INTELLIGENCE', to: 'OMEGA', strength: 'strong' },
            { from: 'OMEGA', to: 'PHYSICS', strength: 'strong' },
            { from: 'INTELLIGENCE', to: 'GUARDIANS', strength: 'strong' },
            { from: 'PHYSICS', to: 'BIOLOGY', strength: 'medium' },
            { from: 'FORTRESS', to: 'OMEGA', strength: 'strong' },
            { from: 'GUARDIANS', to: 'INTELLIGENCE', strength: 'strong' },
            { from: 'BIOLOGY', to: 'INTELLIGENCE', strength: 'medium' }
        ];

        let selectedModule = null;
        let isWatching = false;

        // Initialize Dashboard
        function init() {
            renderClasses();
            renderArchitecture();
            updateStats();
            addLog('success', 'Dashboard initialized');
            addLog('success', 'Connected to ecosystem: 586,757 lines');
            addLog('success', 'Health score: 99/100');
        }

        // Render Module Classes
        function renderClasses() {
            const container = document.getElementById('classContainer');
            container.innerHTML = '';

            for (const [className, classData] of Object.entries(MODULE_CLASSES)) {
                const healthyCount = classData.modules.filter(m => m.status === 'healthy').length;
                const totalCount = classData.modules.length;

                const group = document.createElement('div');
                group.className = 'class-group';
                group.innerHTML = `
                    <div class="class-header" onclick="toggleClass(this)">
                        <div class="name">
                            <span>${classData.emoji}</span>
                            <span>${className}</span>
                        </div>
                        <span class="count">${healthyCount}/${totalCount}</span>
                    </div>
                    <div class="class-modules" id="class-${className}">
                        ${classData.modules.map(m => `
                            <div class="module-item ${m.status}" onclick="selectModule('${className}', '${m.name}')">
                                <span>${m.name}</span>
                                <span class="module-status ${m.status === 'healthy' ? 'ok' : m.status === 'warning' ? 'warn' : 'err'}">
                                    ${m.status === 'healthy' ? '‚úì' : m.status === 'warning' ? '!' : '‚úó'}
                                </span>
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(group);
            }
        }

        // Toggle class expansion
        function toggleClass(header) {
            const modules = header.nextElementSibling;
            modules.classList.toggle('open');
        }

        // Render Architecture View
        function renderArchitecture() {
            const container = document.getElementById('archNodes');
            const svg = document.getElementById('connectionsSvg');

            // Position classes in a circle
            const classes = Object.keys(MODULE_CLASSES);
            const centerX = 350;
            const centerY = 280;
            const radius = 180;

            const positions = {};

            classes.forEach((className, i) => {
                const angle = (i / classes.length) * 2 * Math.PI - Math.PI / 2;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                positions[className] = { x, y };

                const classData = MODULE_CLASSES[className];
                const node = document.createElement('div');
                node.className = 'arch-node';
                node.id = `node-${className}`;
                node.style.left = `${x - 50}px`;
                node.style.top = `${y - 25}px`;
                node.innerHTML = `
                    <div style="font-size: 18px; margin-bottom: 5px;">${classData.emoji}</div>
                    <div style="font-weight: bold;">${className}</div>
                    <div style="font-size: 10px; color: #888;">${classData.modules.length} modules</div>
                `;
                node.onclick = () => highlightClass(className);
                container.appendChild(node);
            });

            // Draw connections
            let svgContent = '';
            CLASS_CONNECTIONS.forEach(conn => {
                const from = positions[conn.from];
                const to = positions[conn.to];
                if (from && to) {
                    svgContent += `
                        <line class="connection-line"
                            x1="${from.x}" y1="${from.y}"
                            x2="${to.x}" y2="${to.y}"
                            data-from="${conn.from}" data-to="${conn.to}"/>
                    `;
                }
            });
            svg.innerHTML = svgContent;
        }

        // Highlight class and connections
        function highlightClass(className) {
            // Reset all
            document.querySelectorAll('.arch-node').forEach(n => n.classList.remove('active'));
            document.querySelectorAll('.connection-line').forEach(l => l.classList.remove('active'));

            // Highlight selected
            document.getElementById(`node-${className}`).classList.add('active');

            // Highlight connections
            document.querySelectorAll('.connection-line').forEach(line => {
                if (line.dataset.from === className || line.dataset.to === className) {
                    line.classList.add('active');
                }
            });

            // Update connection list
            updateConnectionList(className);
        }

        // Update connection list
        function updateConnectionList(className) {
            const list = document.getElementById('connectionList');
            const connections = CLASS_CONNECTIONS.filter(c => c.from === className || c.to === className);

            list.innerHTML = connections.map(c => {
                const other = c.from === className ? c.to : c.from;
                const direction = c.from === className ? '‚Üí' : '‚Üê';
                return `
                    <div class="connection-item">
                        <span>${MODULE_CLASSES[className]?.emoji || 'üì¶'}</span>
                        <span class="arrow">${direction}</span>
                        <span>${MODULE_CLASSES[other]?.emoji || 'üì¶'} ${other}</span>
                    </div>
                `;
            }).join('');
        }

        // Select module
        function selectModule(className, moduleName) {
            selectedModule = { className, moduleName };
            const classData = MODULE_CLASSES[className];
            const moduleData = classData.modules.find(m => m.name === moduleName);

            // Update selection UI
            document.querySelectorAll('.module-item').forEach(m => m.classList.remove('selected'));
            event.target.closest('.module-item').classList.add('selected');

            // Show details
            const detailsPanel = document.getElementById('selectedModule');
            detailsPanel.style.display = 'block';

            document.getElementById('moduleDetails').innerHTML = `
                <div class="detail-item">
                    <span class="label">Name</span>
                    <span class="value">${moduleName}</span>
                </div>
                <div class="detail-item">
                    <span class="label">Class</span>
                    <span class="value">${classData.emoji} ${className}</span>
                </div>
                <div class="detail-item">
                    <span class="label">Status</span>
                    <span class="value" style="color: ${moduleData.status === 'healthy' ? '#00ff88' : '#ffcc00'}">${moduleData.status}</span>
                </div>
                <div class="detail-item">
                    <span class="label">Lines</span>
                    <span class="value">${moduleData.lines.toLocaleString()}</span>
                </div>
                <div class="detail-item">
                    <span class="label">Exports</span>
                    <span class="value">${moduleData.exports}</span>
                </div>
            `;

            addLog('success', `Selected: ${moduleName}`);
        }

        // Update stats
        function updateStats() {
            let totalModules = 0;
            let totalLines = 0;
            let totalConnections = CLASS_CONNECTIONS.length;

            for (const classData of Object.values(MODULE_CLASSES)) {
                totalModules += classData.modules.length;
                totalLines += classData.modules.reduce((sum, m) => sum + m.lines, 0);
            }

            document.getElementById('totalModules').textContent = totalModules;
            document.getElementById('totalLines').textContent = (totalLines / 1000).toFixed(0) + 'K';
            document.getElementById('healthScore').textContent = '99%';
            document.getElementById('connections').textContent = totalConnections;
        }

        // Add log entry
        function addLog(type, message) {
            const log = document.getElementById('logPanel');
            const time = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.innerHTML = `
                <span class="time">${time}</span>
                <span class="msg">${message}</span>
            `;
            log.insertBefore(entry, log.firstChild);

            // Keep only last 50 entries
            while (log.children.length > 50) {
                log.removeChild(log.lastChild);
            }
        }

        // Run full scan
        function runScan() {
            addLog('success', 'üî¨ Starting full ecosystem scan...');

            setTimeout(() => {
                addLog('success', 'üìä Scanning MrMindQATool: 479 files');
            }, 500);

            setTimeout(() => {
                addLog('success', 'üìä Scanning MisteMind: 1,299 files');
            }, 1000);

            setTimeout(() => {
                addLog('success', 'üìä Scanning MisterMindPage: 11 files');
            }, 1500);

            setTimeout(() => {
                addLog('success', '‚úÖ Scan complete: 586,757 lines, 1,156 modules');
                addLog('success', 'üü¢ Health Score: 99/100');
            }, 2000);
        }

        // Toggle watch mode
        function toggleWatch() {
            isWatching = !isWatching;
            const btn = event.target;

            if (isWatching) {
                btn.textContent = '‚èπÔ∏è Stop';
                btn.style.background = 'rgba(255, 68, 68, 0.3)';
                addLog('success', 'üëÅÔ∏è Watch mode activated');
                startWatching();
            } else {
                btn.textContent = 'üëÅÔ∏è Watch';
                btn.style.background = '';
                addLog('warning', '‚èπÔ∏è Watch mode stopped');
            }
        }

        function startWatching() {
            if (!isWatching) return;

            // Simulate periodic checks
            setTimeout(() => {
                if (isWatching) {
                    addLog('success', '‚úì All modules healthy');
                    startWatching();
                }
            }, 5000);
        }

        // Initialize on load
        window.onload = init;
    </script>
</body>
</html>
