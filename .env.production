# ═══════════════════════════════════════════════════════════════════════════════
# 🌌 VORTEX GENESIS - PRODUCTION ENVIRONMENT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════
# Status: BATTLE-READY | Security Level: SOVEREIGN
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# 🔐 CRYPTOGRAPHIC SECURITY
# ─────────────────────────────────────────────────────────────────────────────
# CRITICAL: Generate with: openssl rand -hex 32
# This secret MUST persist across restarts for LivenessToken validation
# Rotation Strategy: 90-day cycle (see LivenessTokenManager.rotateSecret())
LIVENESS_TOKEN_SECRET=REPLACE_WITH_OPENSSL_RAND_HEX_32

# Admin Public Key for Sovereign Operations (Ed25519)
# Generate with: node -e "const ed = require('@noble/ed25519'); ed.utils.randomPrivateKey().then(k => console.log(Buffer.from(k).toString('hex')))"
ADMIN_PUB_KEY=ed25519_public_key_here

# ─────────────────────────────────────────────────────────────────────────────
# 🗄️ DATABASE CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────
# PostgreSQL connection for ApoptosisModule vitality tracking
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
DATABASE_URL=postgresql://vortex_admin:REPLACE_WITH_SECURE_PASSWORD@localhost:5432/vortex_core

# ─────────────────────────────────────────────────────────────────────────────
# ⚡ TEMPORAL.IO ORCHESTRATION
# ─────────────────────────────────────────────────────────────────────────────
# Temporal server address for durable workflow execution
# Default: localhost:7233 (local development)
# Production: temporal.example.com:7233
TEMPORAL_ADDRESS=localhost:7233

# Temporal namespace (default: 'default')
TEMPORAL_NAMESPACE=vortex-genesis

# ─────────────────────────────────────────────────────────────────────────────
# 📊 TELEMETRY & OBSERVABILITY
# ─────────────────────────────────────────────────────────────────────────────
# Prometheus metrics endpoint port
METRICS_PORT=9090

# Jaeger tracing endpoint (OpenTelemetry)
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ─────────────────────────────────────────────────────────────────────────────
# 🛡️ APOPTOSIS MODULE CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────
# Maximum entropy score before module archival (default: 100)
APOPTOSIS_MAX_ENTROPY=100

# Staleness threshold in milliseconds (default: 30 days)
APOPTOSIS_STALENESS_THRESHOLD=2592000000

# LivenessToken validity window in milliseconds (default: 5 minutes)
LIVENESS_TOKEN_EXPIRY_MS=300000

# ─────────────────────────────────────────────────────────────────────────────
# 🌐 NETWORK & API CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────
# API server port
PORT=3000

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://vortex.example.com

# ─────────────────────────────────────────────────────────────────────────────
# 🧬 EVOLUTIONARY HARDENING
# ─────────────────────────────────────────────────────────────────────────────
# Maximum healing attempts per error (default: 3)
MAX_HEALING_ATTEMPTS=3

# Healing timeout in milliseconds (default: 30 seconds)
HEALING_TIMEOUT_MS=30000

# ─────────────────────────────────────────────────────────────────────────────
# 🎯 DEPLOYMENT ENVIRONMENT
# ─────────────────────────────────────────────────────────────────────────────
NODE_ENV=production

# ═══════════════════════════════════════════════════════════════════════════════
# SETUP INSTRUCTIONS:
# ═══════════════════════════════════════════════════════════════════════════════
# 1. Copy this file: cp .env.production .env
# 2. Generate LIVENESS_TOKEN_SECRET: openssl rand -hex 32
# 3. Replace REPLACE_WITH_* placeholders with actual values
# 4. Run database migration: psql -U vortex_admin -d vortex_core -f db/migrations/001_initial_schema.sql
# 5. Start Temporal server: temporal server start-dev
# 6. Launch VORTEX: npm run vortex:genesis
# ═══════════════════════════════════════════════════════════════════════════════
